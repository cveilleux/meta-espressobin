From ba3e134ed70caa133f8819ee2c832642cb1ac9bf Mon Sep 17 00:00:00 2001
From: Cedric Veilleux <veilleux.cedric@gmail.com>
Date: Thu, 16 Jul 2020 00:23:15 +0000
Subject: [PATCH] espressobin dts: Swap emmc and sd card to match linux
 mainline device tree.

---
 arch/arm/dts/armada-3720-espressobin-emmc.dts |  2 +-
 arch/arm/dts/armada-3720-espressobin.dts      | 10 +++++-----
 arch/arm/dts/armada-37xx.dtsi                 |  4 ++--
 3 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/arch/arm/dts/armada-3720-espressobin-emmc.dts b/arch/arm/dts/armada-3720-espressobin-emmc.dts
index 0dd59af9c0..e17701b78f 100644
--- a/arch/arm/dts/armada-3720-espressobin-emmc.dts
+++ b/arch/arm/dts/armada-3720-espressobin-emmc.dts
@@ -14,6 +14,6 @@
 };
 
 /* U11 */
-&sdhci1 {
+&sdhci0 {
 	status = "okay";
 };
diff --git a/arch/arm/dts/armada-3720-espressobin.dts b/arch/arm/dts/armada-3720-espressobin.dts
index a09dd8e1f9..7b366a3897 100644
--- a/arch/arm/dts/armada-3720-espressobin.dts
+++ b/arch/arm/dts/armada-3720-espressobin.dts
@@ -31,9 +31,9 @@
 		reg = <0x00000000 0x00000000 0x00000000 0x20000000>;
 	};
 
-	vcc_sd_reg0: regulator@0 {
+	vcc_sd_reg1: regulator@0 {
 		compatible = "regulator-gpio";
-		regulator-name = "vcc_sd0";
+		regulator-name = "vcc_sd1";
 		regulator-min-microvolt = <1800000>;
 		regulator-max-microvolt = <3300000>;
 		regulator-type = "voltage";
@@ -101,16 +101,16 @@
 };
 
 /* J1 */
-&sdhci0 {
+&sdhci1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&sdio_pins>;
 	bus-width = <4>;
-	vqmmc-supply = <&vcc_sd_reg0>;
+	vqmmc-supply = <&vcc_sd_reg1>;
 	status = "okay";
 };
 
 /* U11 */
-&sdhci1 {
+&sdhci0 {
 	non-removable;
 	bus-width = <8>;
 	mmc-ddr-1_8v;
diff --git a/arch/arm/dts/armada-37xx.dtsi b/arch/arm/dts/armada-37xx.dtsi
index bf9cf7d8b3..f6cdc76264 100644
--- a/arch/arm/dts/armada-37xx.dtsi
+++ b/arch/arm/dts/armada-37xx.dtsi
@@ -226,7 +226,7 @@
 				};
 			};
 
-			sdhci0: sdhci@d0000 {
+			sdhci1: sdhci@d0000 {
 				compatible = "marvell,armada-3700-sdhci",
 				"marvell,sdhci-xenon";
 				reg = <0xd0000 0x300
@@ -234,7 +234,7 @@
 				status = "disabled";
 			};
 
-			sdhci1: sdhci@d8000 {
+			sdhci0: sdhci@d8000 {
 				compatible = "marvell,armada-3700-sdhci",
 				"marvell,sdhci-xenon";
 				reg = <0xd8000 0x300
-- 
2.17.1

